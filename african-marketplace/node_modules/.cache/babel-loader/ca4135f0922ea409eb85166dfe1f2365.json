{"ast":null,"code":"var _jsxFileName = \"X:\\\\Lambda-Projects\\\\front-end\\\\african-marketplace\\\\src\\\\components\\\\Login.js\";\nimport React from \"react\";\nimport axios from 'axios';\n\nclass Login extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      credentials: {\n        username: '',\n        password: ''\n      }\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        credentials: { ...this.state.credentials,\n          [e.target.name]: e.target.value\n        }\n      });\n    };\n\n    this.login = e => {\n      e.preventDefault();\n      axios.post(\"https://afrikan-market.herokuapp.com/api/auth/login\", this.state.credentials).then(res => {\n        console.log(res);\n        localStorage.setItem(\"token\", res.data.payload);\n        this.props.history.push(\"/protected\");\n      }).catch(err => console.log({\n        err\n      }));\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }\n    }, \"Welcome to the Login Page\"), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"username\",\n      value: this.state.credentials.username,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      value: this.state.credentials.password,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }\n    }, \"Log in\")));\n  }\n\n}\n\n;\nexport default Login;","map":{"version":3,"sources":["X:/Lambda-Projects/front-end/african-marketplace/src/components/Login.js"],"names":["React","axios","Login","Component","state","credentials","username","password","handleChange","e","setState","target","name","value","login","preventDefault","post","then","res","console","log","localStorage","setItem","data","payload","props","history","push","catch","err","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,KAAN,SAAoBF,KAAK,CAACG,SAA1B,CAAoC;AAAA;AAAA;AAAA,SAGlCC,KAHkC,GAG1B;AACNC,MAAAA,WAAW,EAAE;AACXC,QAAAA,QAAQ,EAAE,EADC;AAEXC,QAAAA,QAAQ,EAAE;AAFC;AADP,KAH0B;;AAAA,SAWlCC,YAXkC,GAWnBC,CAAC,IAAI;AAClB,WAAKC,QAAL,CAAc;AACZL,QAAAA,WAAW,EAAE,EACX,GAAG,KAAKD,KAAL,CAAWC,WADH;AAEX,WAACI,CAAC,CAACE,MAAF,CAASC,IAAV,GAAiBH,CAAC,CAACE,MAAF,CAASE;AAFf;AADD,OAAd;AAMD,KAlBiC;;AAAA,SAoBlCC,KApBkC,GAoB1BL,CAAC,IAAI;AACXA,MAAAA,CAAC,CAACM,cAAF;AAEAd,MAAAA,KAAK,CACFe,IADH,CACQ,qDADR,EAC+D,KAAKZ,KAAL,CAAWC,WAD1E,EAEGY,IAFH,CAEQC,GAAG,IAAI;AACXC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAG,QAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,GAAG,CAACK,IAAJ,CAASC,OAAvC;AACA,aAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB;AACD,OANH,EAOGC,KAPH,CAOSC,GAAG,IAAIV,OAAO,CAACC,GAAR,CAAY;AAAES,QAAAA;AAAF,OAAZ,CAPhB;AAQD,KA/BiC;AAAA;;AAgClCC,EAAAA,MAAM,GAAG;AACP,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFF,eAGE;AAAM,MAAA,QAAQ,EAAE,KAAKhB,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,IAAI,EAAC,UAFP;AAGE,MAAA,KAAK,EAAE,KAAKV,KAAL,CAAWC,WAAX,CAAuBC,QAHhC;AAIE,MAAA,QAAQ,EAAE,KAAKE,YAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAOE;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,IAAI,EAAC,UAFP;AAGE,MAAA,KAAK,EAAE,KAAKJ,KAAL,CAAWC,WAAX,CAAuBE,QAHhC;AAIE,MAAA,QAAQ,EAAE,KAAKC,YAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,eAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAbF,CAHF,CADJ;AAqBD;;AAtDiC;;AAuDnC;AAED,eAAeN,KAAf","sourcesContent":["import React from \"react\";\r\n\r\nimport axios from 'axios';\r\n\r\nclass Login extends React.Component {\r\n  // make a post request to retrieve a token from the api\r\n  // when you have handled the token, navigate to the BubblePage route\r\n  state = {\r\n    credentials: {\r\n      username: '',\r\n      password: ''\r\n    }\r\n  };\r\n\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      credentials: {\r\n        ...this.state.credentials,\r\n        [e.target.name]: e.target.value\r\n      }\r\n    });\r\n  };\r\n\r\n  login = e => {\r\n    e.preventDefault();\r\n    \r\n    axios\r\n      .post(\"https://afrikan-market.herokuapp.com/api/auth/login\", this.state.credentials)\r\n      .then(res => {\r\n        console.log(res);\r\n        localStorage.setItem(\"token\", res.data.payload);\r\n        this.props.history.push(\"/protected\");\r\n      })\r\n      .catch(err => console.log({ err }));\r\n  };\r\n  render() {\r\n    return (\r\n        <div>\r\n          <h1>Welcome to the Login Page</h1>\r\n          <h2>Login</h2>\r\n          <form onSubmit={this.login}>\r\n            <input\r\n              type=\"text\"\r\n              name=\"username\"\r\n              value={this.state.credentials.username}\r\n              onChange={this.handleChange}\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              value={this.state.credentials.password}\r\n              onChange={this.handleChange}\r\n            />\r\n            <button>Log in</button>\r\n          </form>\r\n        </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}