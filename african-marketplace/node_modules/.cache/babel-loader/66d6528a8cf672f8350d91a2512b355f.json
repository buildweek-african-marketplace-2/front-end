{"ast":null,"code":"var _jsxFileName = \"X:\\\\Lambda-Projects\\\\front-end\\\\african-marketplace\\\\src\\\\components\\\\Login.js\";\nimport React from \"react\";\nimport axios from 'axios';\nimport { axiosWithAuth } from \"../utils/axiosWithAuth\";\n\nclass Login extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      credentials: {\n        username: '',\n        password: ''\n      }\n    };\n\n    this.handleChange = e => {\n      console.log(this.state.credentials);\n      this.setState({\n        credentials: { ...this.state.credentials,\n          [e.target.name]: e.target.value\n        }\n      });\n    };\n\n    this.login = e => {\n      e.preventDefault();\n      console.log(this.state.credentials);\n      axios.post(\"https://afrikan-market.herokuapp.com/api/auth/login\", this.state.credentials).then(res => {\n        console.log(res);\n        localStorage.setItem(\"token\", res.data.payload); //this.props.history.push(\"/items\");\n      }).catch(err => console.log({\n        err\n      }));\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }\n    }, \"Welcome to the Login Page\"), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"username\",\n      value: this.state.credentials.username,\n      onChange: this.handleChange,\n      placeholder: \"username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      value: this.state.credentials.password,\n      onChange: this.handleChange,\n      placeholder: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }\n    }, \"Log in\")));\n  }\n\n}\n\n;\nexport default Login;","map":{"version":3,"sources":["X:/Lambda-Projects/front-end/african-marketplace/src/components/Login.js"],"names":["React","axios","axiosWithAuth","Login","Component","state","credentials","username","password","handleChange","e","console","log","setState","target","name","value","login","preventDefault","post","then","res","localStorage","setItem","data","payload","catch","err","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAT,QAA8B,wBAA9B;;AAEA,MAAMC,KAAN,SAAoBH,KAAK,CAACI,SAA1B,CAAoC;AAAA;AAAA;AAAA,SAClCC,KADkC,GAC1B;AACNC,MAAAA,WAAW,EAAE;AACXC,QAAAA,QAAQ,EAAE,EADC;AAEXC,QAAAA,QAAQ,EAAE;AAFC;AADP,KAD0B;;AAAA,SASlCC,YATkC,GASnBC,CAAC,IAAI;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKP,KAAL,CAAWC,WAAvB;AACF,WAAKO,QAAL,CAAc;AACZP,QAAAA,WAAW,EAAE,EACX,GAAG,KAAKD,KAAL,CAAWC,WADH;AAEX,WAACI,CAAC,CAACI,MAAF,CAASC,IAAV,GAAiBL,CAAC,CAACI,MAAF,CAASE;AAFf;AADD,OAAd;AAMD,KAjBiC;;AAAA,SAmBlCC,KAnBkC,GAmB1BP,CAAC,IAAI;AACXA,MAAAA,CAAC,CAACQ,cAAF;AACAP,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKP,KAAL,CAAWC,WAAvB;AAEAL,MAAAA,KAAK,CACFkB,IADH,CACQ,qDADR,EAC+D,KAAKd,KAAL,CAAWC,WAD1E,EAEGc,IAFH,CAEQC,GAAG,IAAI;AACXV,QAAAA,OAAO,CAACC,GAAR,CAAYS,GAAZ;AACAC,QAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,GAAG,CAACG,IAAJ,CAASC,OAAvC,EAFW,CAGX;AACD,OANH,EAOGC,KAPH,CAOSC,GAAG,IAAIhB,OAAO,CAACC,GAAR,CAAY;AAAEe,QAAAA;AAAF,OAAZ,CAPhB;AAQD,KA/BiC;AAAA;;AAgClCC,EAAAA,MAAM,GAAG;AACP,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFF,eAGE;AAAM,MAAA,QAAQ,EAAE,KAAKX,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,IAAI,EAAC,UAFP;AAGE,MAAA,KAAK,EAAE,KAAKZ,KAAL,CAAWC,WAAX,CAAuBC,QAHhC;AAIE,MAAA,QAAQ,EAAE,KAAKE,YAJjB;AAKE,MAAA,WAAW,EAAC,UALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAQE;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,IAAI,EAAC,UAFP;AAGE,MAAA,KAAK,EAAE,KAAKJ,KAAL,CAAWC,WAAX,CAAuBE,QAHhC;AAIE,MAAA,QAAQ,EAAE,KAAKC,YAJjB;AAKE,MAAA,WAAW,EAAC,UALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARF,eAeE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAfF,CAHF,CADJ;AAuBD;;AAxDiC;;AAyDnC;AAED,eAAeN,KAAf","sourcesContent":["import React from \"react\";\r\n\r\nimport axios from 'axios';\r\nimport { axiosWithAuth } from \"../utils/axiosWithAuth\";\r\n\r\nclass Login extends React.Component {\r\n  state = {\r\n    credentials: {\r\n      username: '',\r\n      password: ''\r\n    }\r\n  };\r\n\r\n\r\n  handleChange = e => {\r\n      console.log(this.state.credentials);\r\n    this.setState({\r\n      credentials: {\r\n        ...this.state.credentials,\r\n        [e.target.name]: e.target.value\r\n      }\r\n    });\r\n  };\r\n\r\n  login = e => {\r\n    e.preventDefault();\r\n    console.log(this.state.credentials);\r\n    \r\n    axios\r\n      .post(\"https://afrikan-market.herokuapp.com/api/auth/login\", this.state.credentials)\r\n      .then(res => {\r\n        console.log(res);\r\n        localStorage.setItem(\"token\", res.data.payload);\r\n        //this.props.history.push(\"/items\");\r\n      })\r\n      .catch(err => console.log({ err }));\r\n  };\r\n  render() {\r\n    return (\r\n        <div>\r\n          <h1>Welcome to the Login Page</h1>\r\n          <h2>Login</h2>\r\n          <form onSubmit={this.login}>\r\n            <input\r\n              type=\"text\"\r\n              name=\"username\"\r\n              value={this.state.credentials.username}\r\n              onChange={this.handleChange}\r\n              placeholder='username'\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              value={this.state.credentials.password}\r\n              onChange={this.handleChange}\r\n              placeholder=\"password\"\r\n            />\r\n            <button>Log in</button>\r\n          </form>\r\n        </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}