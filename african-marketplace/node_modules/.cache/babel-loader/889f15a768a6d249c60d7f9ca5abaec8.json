{"ast":null,"code":"var _jsxFileName = \"X:\\\\Lambda-Projects\\\\front-end\\\\african-marketplace\\\\src\\\\components\\\\SignUp.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport * as yup from 'yup';\nimport axios from 'axios';\nimport { axiosWithAuth } from '../utils/axiosWithAuth';\nconst formSchema = yup.object().shape({\n  name: yup.string().required(\"This is a required field\"),\n  email: yup.string().required(\"This is a required field\"),\n  username: yup.string().required(\"This is a required field\"),\n  password: yup.string().required(\"This is a required field\")\n});\n\nconst Register = () => {\n  const [formState, setFormState] = useState({\n    name: \"\",\n    email: \"\",\n    username: \"\",\n    password: \"\"\n  });\n  const [errorState, setErrorState] = useState({\n    name: \"\",\n    email: \"\",\n    username: \"\",\n    password: \"\"\n  });\n  const [users, setUser] = useState([]);\n  const [buttonDisabled, setButtonDisabled] = useState(true);\n  useEffect(() => {\n    formSchema.isValid(formState).then(valid => {\n      setButtonDisabled(!valid);\n    });\n  }, [formState]);\n\n  const formSubmit = event => {\n    event.preventDefault();\n    console.log(\"user registered\");\n    axiosWithAuth() // .post(\"https://reqres.in/api/users\", formState)\n    .post(\"https://afrikan-market.herokuapp.com/api/auth/register\", formState).then(response => {\n      console.log(response);\n      setFormState([...users], response.data);\n    }).catch(err => console.log(\"something went wrong\", err));\n  };\n\n  const inputChange = event => {\n    event.persist();\n    validate(event);\n    let value = event.target.type === \"checkbox\" ? event.target.checked : event.target.value;\n    setFormState({ ...formState,\n      [event.target.name]: value\n    });\n  };\n\n  const validate = event => {\n    let value = event.target.type === \"checkbox\" ? event.target.checked : event.target.value;\n    yup.reach(formSchema, event.target.name).validate(value).then(valid => {\n      setErrorState({ ...errorState,\n        [event.target.name]: \"\"\n      });\n    }).catch(err => {\n      setErrorState({ ...errorState,\n        [event.target.name]: err.errors[0]\n      });\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"register-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 18\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 31\n    }\n  }, \"Home\"))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, \"Register\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: formSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 21\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    id: \"name\",\n    placeholder: \"Name\",\n    value: formState.name,\n    onChange: inputChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  })), errorState.name.length > 2 ? /*#__PURE__*/React.createElement(\"p\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, errorState.name) : null, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    name: \"email\",\n    id: \"email\",\n    placeholder: \"Email\",\n    value: formState.email,\n    onChange: inputChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 21\n    }\n  })), errorState.email.length > 2 ? /*#__PURE__*/React.createElement(\"p\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }, errorState.email) : null, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"username\",\n    id: \"username\",\n    placeholder: \"Username\",\n    value: formState.username,\n    onChange: inputChange,\n    minLength: 4,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 21\n    }\n  })), errorState.username.length > 2 ? /*#__PURE__*/React.createElement(\"p\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  }, errorState.username) : null, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 21\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    id: \"password\",\n    placeholder: \"Password\",\n    value: formState.password,\n    onChange: inputChange,\n    minLength: 4,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 21\n    }\n  })), errorState.password.length > 2 ? /*#__PURE__*/React.createElement(\"p\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  }, errorState.password) : null, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"submit\",\n    disabled: buttonDisabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  }, \"Register\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  }, \"Already registered?\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 35\n    }\n  }, \"Login Here\")))));\n};\n\nexport default Register;","map":{"version":3,"sources":["X:/Lambda-Projects/front-end/african-marketplace/src/components/SignUp.js"],"names":["React","useState","useEffect","Link","yup","axios","axiosWithAuth","formSchema","object","shape","name","string","required","email","username","password","Register","formState","setFormState","errorState","setErrorState","users","setUser","buttonDisabled","setButtonDisabled","isValid","then","valid","formSubmit","event","preventDefault","console","log","post","response","data","catch","err","inputChange","persist","validate","value","target","type","checked","reach","errors","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport * as yup from 'yup';\r\nimport axios from 'axios';\r\nimport { axiosWithAuth } from '../utils/axiosWithAuth';\r\n\r\nconst formSchema = yup.object().shape({\r\n    name: yup.string().required(\"This is a required field\"),\r\n    email: yup.string().required(\"This is a required field\"),\r\n    username: yup.string().required(\"This is a required field\"),\r\n    password: yup.string().required(\"This is a required field\"),\r\n})\r\n\r\nconst Register = () => {\r\n    const [formState, setFormState] = useState({\r\n        name: \"\",\r\n        email: \"\",\r\n        username: \"\",\r\n        password: \"\"\r\n    })\r\n\r\n    const [errorState, setErrorState] = useState({\r\n        name: \"\",\r\n        email: \"\",\r\n        username: \"\",\r\n        password: \"\"\r\n    })\r\n\r\n    const [users, setUser] = useState([])\r\n\r\n    const [buttonDisabled, setButtonDisabled] = useState(true);\r\n    useEffect(() => {\r\n        formSchema.isValid(formState).then(valid => {\r\n            setButtonDisabled(!valid)\r\n        });\r\n\r\n    }, [formState]);\r\n\r\n    const formSubmit = event => {\r\n        event.preventDefault();\r\n        console.log(\"user registered\")\r\n        axiosWithAuth()\r\n        // .post(\"https://reqres.in/api/users\", formState)\r\n        .post(\"https://afrikan-market.herokuapp.com/api/auth/register\", formState)\r\n        .then(response => {\r\n            console.log(response)\r\n            setFormState([...users], response.data)\r\n        })\r\n        .catch(err => console.log(\"something went wrong\", err))\r\n    }\r\n\r\n    const inputChange = event => {\r\n        event.persist()\r\n        validate(event)\r\n        let value = event.target.type === \"checkbox\" ? event.target.checked : event.target.value;\r\n        setFormState({...formState, [event.target.name]: value})\r\n    }\r\n\r\n    const validate = event => {\r\n        let value = \r\n            event.target.type === \"checkbox\" ? event.target.checked : event.target.value;\r\n            yup\r\n            .reach(formSchema, event.target.name)\r\n            .validate(value)\r\n            .then(valid => {\r\n                setErrorState({\r\n                    ...errorState,\r\n                    [event.target.name]: \"\"\r\n                });\r\n            })\r\n            .catch(err => {\r\n                setErrorState({\r\n                    ...errorState,\r\n                        [event.target.name]: err.errors[0]\r\n                })\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div className=\"register-container\">\r\n            <div><Link to=\"/\"><button>Home</button></Link></div>\r\n            <div>\r\n            <h2>Register</h2>\r\n            <form onSubmit={formSubmit}>\r\n\r\n                <label htmlFor=\"name\">\r\n                    <p>Name</p>\r\n                    <input type=\"text\" name=\"name\" id=\"name\" placeholder=\"Name\" value={formState.name} onChange={inputChange} required />\r\n                </label>\r\n                {errorState.name.length > 2 ? (\r\n                <p className=\"error\">{errorState.name}</p>\r\n            ) : null}\r\n                <br/>\r\n\r\n                <label htmlFor=\"email\">\r\n                    <p>Email</p>\r\n                    <input type=\"email\" name=\"email\" id=\"email\" placeholder=\"Email\" value={formState.email} onChange={inputChange} required />\r\n                </label>\r\n                {errorState.email.length > 2 ? (\r\n                <p className=\"error\">{errorState.email}</p>\r\n            ) : null}\r\n                <br />\r\n\r\n                <label htmlFor=\"username\">\r\n                    <p>Username</p>\r\n                    <input type=\"text\" name=\"username\" id=\"username\" placeholder=\"Username\" value={formState.username} onChange={inputChange} minLength={4} required />\r\n                </label>\r\n                {errorState.username.length > 2 ? (\r\n                <p className=\"error\">{errorState.username}</p>\r\n            ) : null}\r\n                <br/>\r\n\r\n                <label htmlFor=\"password\">\r\n                    <p>Password</p>\r\n                    <input type=\"password\" name=\"password\" id=\"password\" placeholder=\"Password\" value={formState.password} onChange={inputChange} minLength={4} required />\r\n                </label>\r\n                {errorState.password.length > 2 ? (\r\n                <p className=\"error\">{errorState.password}</p>\r\n            ) : null}\r\n                <br/>\r\n\r\n                <button className=\"submit\" disabled={buttonDisabled}>Register</button>\r\n\r\n                <p>Already registered?</p>\r\n                <Link to=\"/login\"><button>Login Here</button></Link> \r\n            </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register;"]},"metadata":{},"sourceType":"module"}